<div class="d-sm-flex align-items-center justify-content-between mt-5">
  <h1 class="h3 mb-0 text-gray-800" style="color: #d06a53">Buscador</h1>
</div>
<!--
<p class="my-2">Lorem ipsum dolor sit amet consectetur adipisicing elit. Officiis deserunt corrupti optio placeat
    recusandae sint totam dolor, modi, distinctio eos ipsum consectetur quis tempore nobis earum amet rerum. Illum
    laboriosam eveniet eum eligendi odio asperiores repellendus aspernatur voluptate ab. Rerum dolor hic sed ex
    debitis praesentium nostrum ipsam a unde!</p>
-->

<div class="px-4 pt-2 pb-4 mt-4 bg-white border rounded shadow">
  <!-- Formularios -->
  <section style="padding: 0px" class="mt-3">
    <div class="row">
      <p class="alert alert-danger mb-4" *ngIf="error">
        Ha ocurrido un error. Intente más tarde.
      </p>
      <form class="form" [formGroup]="form">
        <div class="row">
          <!-- Dimensión -->
          <div class="form-group col-12 col-lg-4">
            <h5 class="text-orange">Dimensión</h5>
            <select
              class="form-select"
              formControlName="dimension"
              aria-label="Default select example"
            >
              <option [value]="0" selected></option>
              <option
                *ngFor="let dim of dimensiones; let i = index"
                [value]="i + 1"
              >
                {{ dim }}
              </option>
            </select>
            <!-- Dimensiones seleccionadas -->
            <div class="mt-3">
              <ul class="lista d-flex flex-column">
                <li
                  class="p-2 btn btn-outline-orange mt-1"
                  *ngFor="let dim of dimensiones_seleccionadas; let i = index"
                  (click)="onRemove('dimensiones', i)"
                >
                  {{ dim }}
                  <i class="bi bi-x-circle"></i>
                </li>
              </ul>
            </div>
          </div>
          <!-- Nivel de ocupaciones-->
          <div class="form-group col-12 col-lg-4">
            <h5 class="text-orange">Nivel de ocupaciones</h5>
            <select
              class="form-select"
              formControlName="ocupacion"
              aria-label="Default select example"
            >
              <option [value]="0" selected></option>
              <option
                *ngFor="let nivel of nivel_ocupaciones; let i = index"
                [value]="i + 1"
              >
                {{ nivel}}
              </option>
            </select>
            <!-- Dimensiones seleccionadas -->
            <div class="mt-3">
              <ul class="lista d-flex flex-column">
                <li
                  class="p-2 btn btn-outline-orange mt-1"
                  *ngFor="let nivel of nivel_ocupaciones_seleccionados; let i = index"
                  (click)="onRemove('ocupaciones', i)"
                >
                  {{ nivel }}
                  <i class="bi bi-x-circle"></i>
                </li>
              </ul>
            </div>
          </div>
          <!-- Sectores -->
          <div class="form-group col-12 col-lg-4 mt-3 mt-lg-0">
            <h5 class="text-orange">Sector economico</h5>
            <select
              class="form-select"
              formControlName="sector"
              aria-label="Default select example"
            >
              <option selected [value]="0"></option>
              <option
                *ngFor="let sector of sectores; let i = index"
                [value]="i + 1"
                selected
              >
                {{ sector }}
              </option>
            </select>
            <!-- Sectores seleccionadas -->
            <div class="mt-3">
              <ul class="lista d-flex flex-column">
                <li
                  class="p-2 btn btn-outline-orange mt-1"
                  *ngFor="let sector of sectores_seleccionadas; let i = index"
                  (click)="onRemove('sectores', i)"
                >
                  {{ sector }}
                  <i class="bi bi-x-circle"></i>
                </li>
              </ul>
            </div>
          </div>

          <!-- este es areas ahora industrias relacionadas -->
          <div class="form-group col-12 col-lg-4 mt-3 mt-lg-0">
            <h5 class="text-orange">Industrias relacionadas</h5>
            <select
              class="form-select"
              formControlName="industria"
              aria-label="Default select example"
            >
              <option [value]="0" selected></option>
              <option *ngFor="let industria of industrias; let i = index" [value]="i + 1">
                {{ industria }}
              </option>
            </select>
            <!-- Areas seleccionadas -->
            <div class="mt-3">
              <ul class="lista d-flex flex-column">
                <li
                  class="p-2 btn btn-outline-orange mt-1"
                  *ngFor="let industria of industrias_seleccionadas; let i = index"
                  (click)="onRemove('industrias', i)"
                >
                  {{ industria }}
                  <i class="bi bi-x-circle"></i>
                </li>
              </ul>
            </div>
          </div>

          <!-- este es areas ahora cargos -->
          <div class="form-group col-12 col-lg-4 mt-3 mt-lg-0">
            <h5 class="text-orange">Cargos</h5>
            <select
              class="form-select"
              formControlName="cargo"
              aria-label="Default select example"
            >
              <option [value]="0" selected></option>
              <option *ngFor="let cargo of cargos; let i = index" [value]="i + 1">
                {{ cargo }}
              </option>
            </select>
            <!-- Areas seleccionadas -->
            <div class="mt-3">
              <ul class="lista d-flex flex-column">
                <li
                  class="p-2 btn btn-outline-orange mt-1"
                  *ngFor="let cargo of cargos_selecionados; let i = index"
                  (click)="onRemove('cargos', i)"
                >
                  {{ cargo }}
                  <i class="bi bi-x-circle"></i>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="alert alert-info mt-2" *ngIf="noResults">
          <p class="m-0">No se encontraron resultados.</p>
        </div>
        <div class="row mt-5 mt-lg-3 d-flex justify-content-end">
          <div class="col-12 col-lg-4" style="text-align: right !important">
            <a class="btn-more m-0 pt-2 me-2 mb-2 mb-lg-0" (click)="onFilter()"
              >Filtrar</a
            >
            <a class="btn-more m-0 pt-2" (click)="cleanFilters()">Limpiar</a>
          </div>
        </div>
      </form>
    </div>
  </section>
</div>
<div class="row mt-4 mb-2">
  <div class="col">
    <div style="overflow-x: auto" class="border shadow">
      <table class="table table-striped table-personalized bg-white">
        <thead>
          <tr>
            <th scope="col" class="text-orange">Dimensión</th>
            <th scope="col" class="text-orange">Nivel de ocupaciones</th>
            <th scope="col" class="text-orange">Sector economico</th>
            <th scope="col" class="text-orange">Industrias relacionadas</th>
            <th scope="col" class="text-orange">Cargos</th>
            <th scope="col" class="text-orange">Salarios</th>
            <!--
                        <th scope="col">Linea de investigación</th>
                        <th scope="col">Facultad</th>
                        <th scope="col">Departamento</th>
                        -->
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let g of elements; let i = index">
            <td>{{ g.dimensiones }}</td>
            <td>{{ g.nivel }}</td>
            <td>{{ g.sector }}</td>
            <td>{{ g.industrias }}</td>
            <td>{{ g.cargo }}</td>
            <td>${{ this.formatNumber(g.salario, "en-US") }}</td>
            <td>
              <span
                *ngIf="
                  !g.empresa_grande ||
                  g.empresa_grande == '' ||
                  g.empresa_grande == null
                "
              ></span>
              <span
                *ngIf="
                  g.empresa_grande &&
                  g.empresa_grande != '' &&
                  g.empresa_grande != null
                "
              >
                <span *ngIf="!g.empresa_grande.includes('-')">{{
                  this.formatNumber(this.parseInt(g.empresa_grande), "en-US")
                }}</span>
                <span *ngIf="g.empresa_grande.includes('-')">{{
                  g.empresa_grande
                }}</span>
              </span>
            </td>
            <td>
              <span
                *ngIf="
                  !g.empresa_mediana ||
                  g.empresa_mediana == '' ||
                  g.empresa_mediana == null
                "
              ></span>
              <span
                *ngIf="
                  g.empresa_mediana &&
                  g.empresa_mediana != '' &&
                  g.empresa_mediana != null
                "
              >
                <span *ngIf="!g.empresa_mediana.includes('-')">{{
                  this.formatNumber(this.parseInt(g.empresa_mediana), "en-US")
                }}</span>
                <span *ngIf="g.empresa_mediana.includes('-')">{{
                  g.empresa_mediana
                }}</span>
              </span>
            </td>
            <td>
              <span
                *ngIf="
                  !g.empresa_pequena ||
                  g.empresa_pequena == '' ||
                  g.empresa_pequena == null
                "
              ></span>
              <span
                *ngIf="
                  g.empresa_pequena &&
                  g.empresa_pequena != '' &&
                  g.empresa_pequena != null
                "
              >
                <span *ngIf="!g.empresa_pequena.includes('-')">{{
                  this.formatNumber(this.parseInt(g.empresa_pequena), "en-US")
                }}</span>
                <span *ngIf="g.empresa_pequena.includes('-')">{{
                  g.empresa_pequena
                }}</span>
              </span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
<!-- Page Heading -->
<!--
<div class="d-sm-flex align-items-center justify-content-between mb-4 mt-5">
    <h1 class="h3 mb-0 text-gray-800">Buscador</h1>
</div>
<div class="row">
    <div class="col-md-12 mx-auto">
        <div class="md-form">
            <input type="text" [(ngModel)]="searchText" class="form-control" id="search" mdbInput />
        </div>
    </div>
</div>
<div style="overflow-x:auto; overflow-y: auto; max-height: 700px;">
    <table mdbTable class="z-depth-1 table table-striped">
        <thead>
            <tr>
                <th scope="col">Sector</th>
                <th scope="col">Area</th>
                <th scope="col">Cargo</th>
                <th scope="col">Nivel</th>
                <th scope="col">Empresa grande</th>
                <th scope="col">Empresa mediana</th>
                <th scope="col">Empresa pequeña</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let g of elements">
                <td>{{ g.sector }}</td>
                <td>{{ g.area }}</td>
                <td>{{ g.cargo }}</td>
                <td>{{ g.nivel }}</td>
                <td>{{ g.empresa_grande }}</td>
                <td>{{ g.empresa_mediana }}</td>
                <td>{{ g.empresa_pequena }}</td>
            </tr>
        </tbody>
    </table>
</div>
-->
